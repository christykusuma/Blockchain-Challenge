{"ast":null,"code":"import _classCallCheck from \"/Users/christy.kusuma/Desktop/blockchain-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/christy.kusuma/Desktop/blockchain-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/christy.kusuma/Desktop/blockchain-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/christy.kusuma/Desktop/blockchain-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/christy.kusuma/Desktop/blockchain-project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/christy.kusuma/Desktop/blockchain-project/client/src/blockchain-project/search-page/components/SearchPage.jsx\";\nimport React, { PureComponent } from 'react';\nimport injectSheet from 'react-jss';\nimport compose from 'recompose/compose';\nimport pure from 'recompose/pure';\nimport SearchIcon from './search_icon.png';\nimport BlockchainLogo from './Blockchain-Logo.png';\nimport redArrow from './arrow_right_red.png';\nimport greenArrow from './arrow_right_green.png';\n\nvar styleSheet = function styleSheet(theme) {\n  return {\n    container: {\n      margin: 0,\n      backgroundColor: '#ffffff'\n    },\n    header: {\n      height: '50px',\n      padding: '20px'\n    },\n    searchBar: {\n      backgroundColor: '#004a7c',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '90px',\n      '& input': {\n        width: '80%',\n        height: '30px',\n        fontSize: '14px'\n      }\n    },\n    searchButton: {\n      height: '50px',\n      background: 'none',\n      border: 'none',\n      '&:focus': {\n        outline: 'none'\n      }\n    },\n    logo: {\n      width: '40%',\n      maxWidth: '300px'\n    },\n    results: {\n      margin: '20px 70px',\n      '& table': {\n        marginBottom: '20px'\n      },\n      '& th': {\n        textAlign: 'left'\n      },\n      '& td:first-child': {\n        width: '150px'\n      }\n    },\n    transactions: {\n      margin: '20px 70px'\n    },\n    transactionData: {\n      fontSize: '12px'\n    },\n    hash: {\n      fontSize: '11px'\n    },\n    mainHash: {\n      fontWeight: 'bold'\n    },\n    individualTransactions: {\n      border: 'solid 2px pink',\n      margin: '10px auto',\n      width: '100%'\n    },\n    individualTransaction: {\n      display: 'inline-block',\n      '& table': {\n        margin: '10px 0px',\n        tableLayout: 'fixed',\n        width: '100%'\n      },\n      '& td': {\n        wordWrap: 'break-word'\n      }\n    },\n    arrow: {\n      width: '50px',\n      textAlign: 'center'\n    }\n  };\n};\n\nvar style = injectSheet(styleSheet);\n\nvar SearchPage =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(SearchPage, _PureComponent);\n\n  function SearchPage(props) {\n    var _this;\n\n    _classCallCheck(this, SearchPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchPage).call(this, props));\n\n    _this.updateAddress = function (value) {\n      _this.setState({\n        address: value\n      });\n    };\n\n    _this.renderIndividualTransactions = function (transaction) {\n      var classes = _this.props.classes;\n      var addr_tag = transaction.addr_tag ? React.createElement(\"a\", {\n        href: transaction.addr_tag_link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"(\".concat(transaction.addr_tag, \")\")) : '';\n      var isOut = transaction.type === 'out' ? true : false;\n      var arrow = isOut ? redArrow : greenArrow;\n      return React.createElement(\"div\", {\n        className: classes.individualTransaction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: classes.individualTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: classes.mainHash,\n        colspan: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, transaction.hash), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, transaction.tx_index)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, isOut ? transaction.hash : transaction.addr, \" \", isOut ? '' : addr_tag), React.createElement(\"td\", {\n        className: classes.arrow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: arrow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, isOut ? transaction.addr : transaction.hash, \" \", isOut ? addr_tag : ''), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, (transaction.value * 0.00000001).toFixed(8)))));\n    };\n\n    _this.parseTransaction = function (hash, data, type) {\n      var object = {};\n\n      if (type === 'out') {\n        object['hash'] = hash;\n        object['type'] = 'out';\n        object['addr'] = data.addr;\n        object['addr_tag'] = data.addr_tag || null;\n        object['addr_tag_link'] = data.addr_tag_link || null;\n        object['tx_index'] = data.tx_index;\n        object['value'] = data.value;\n      } else {\n        object['hash'] = hash;\n        object['type'] = 'input';\n        object['addr'] = data.prev_out.addr;\n        object['addr_tag'] = data.prev_out.addr_tag || null;\n        object['addr_tag_link'] = data.prev_out.addr_tag_link || null;\n        object['tx_index'] = data.prev_out.tx_index;\n        object['value'] = data.prev_out.value;\n      }\n\n      return object;\n    };\n\n    _this.mergeTransactions = function (transactions) {\n      var transactionsArray = []; // go through each transaction\n\n      transactions.map(function (transaction) {\n        var hash = transaction['hash'];\n        transaction.inputs.length && transaction.inputs.map(function (input) {\n          transactionsArray.push(_this.parseTransaction(hash, input, 'input'));\n        });\n        transaction.out.length && transaction.out.map(function (out) {\n          transactionsArray.push(_this.parseTransaction(hash, out, 'out'));\n        });\n      });\n      console.log('transactionsArray', transactionsArray);\n      transactionsArray.sort(function (a, b) {\n        return b.tx_index - a.tx_index;\n      });\n      return transactionsArray;\n    };\n\n    _this.renderTransactions = function (transactions) {\n      var classes = _this.props.classes;\n\n      var mergedTransactions = _this.mergeTransactions(transactions);\n\n      return React.createElement(\"div\", {\n        className: classes.individualTransactions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, mergedTransactions.map(function (transaction) {\n        return _this.renderIndividualTransactions(transaction);\n      }));\n    };\n\n    _this.state = {\n      address: '1LuckyR1fFHEsXYyx5QK4UFzv3PEAepPMK'\n    };\n    return _this;\n  }\n\n  _createClass(SearchPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          searchAddress = _this$props.searchAddress,\n          classes = _this$props.classes,\n          search = _this$props.search;\n      var address = this.state.address;\n      console.log('final result from reducers', search); //1LuckyR1fFHEsXYyx5QK4UFzv3PEAepPMK\n\n      return React.createElement(\"div\", {\n        className: classes.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: classes.logo,\n        src: BlockchainLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.searchBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Lookup bitcoin addresses...\",\n        onChange: function onChange(_ref) {\n          var value = _ref.target.value;\n          return _this2.updateAddress(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: classes.searchButton,\n        onClick: function onClick() {\n          return searchAddress(address);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: SearchIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }))), search.results && React.createElement(\"div\", {\n        className: classes.results,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Summary\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, search.results.address)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Hash 160\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, search.results.hash160))), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Transactions\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"No. Transactions\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, search.results.n_tx)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Total Received\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, search.results.total_received * 0.00000001, \" BTC\")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"Final Balance\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, search.results.final_balance * 0.00000001, \" BTC\")))), search.results && React.createElement(\"div\", {\n        className: classes.transactions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Transactions\"), React.createElement(\"div\", {\n        className: classes.transactionData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, this.renderTransactions(search.results.txs))));\n    }\n  }]);\n\n  return SearchPage;\n}(PureComponent);\n\nSearchPage.propTypes = {};\nSearchPage.defaultProps = {};\nexport default compose(style, pure)(SearchPage);","map":{"version":3,"sources":["/Users/christy.kusuma/Desktop/blockchain-project/client/src/blockchain-project/search-page/components/SearchPage.jsx"],"names":["React","PureComponent","injectSheet","compose","pure","SearchIcon","BlockchainLogo","redArrow","greenArrow","styleSheet","theme","container","margin","backgroundColor","header","height","padding","searchBar","display","justifyContent","alignItems","width","fontSize","searchButton","background","border","outline","logo","maxWidth","results","marginBottom","textAlign","transactions","transactionData","hash","mainHash","fontWeight","individualTransactions","individualTransaction","tableLayout","wordWrap","arrow","style","SearchPage","props","updateAddress","value","setState","address","renderIndividualTransactions","transaction","classes","addr_tag","addr_tag_link","isOut","type","individualTable","tx_index","addr","toFixed","parseTransaction","data","object","prev_out","mergeTransactions","transactionsArray","map","inputs","length","input","push","out","console","log","sort","a","b","renderTransactions","mergedTransactions","state","searchAddress","search","target","hash160","n_tx","total_received","final_balance","txs","propTypes","defaultProps"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport injectSheet from 'react-jss'\nimport compose from 'recompose/compose'\nimport pure from 'recompose/pure'\nimport SearchIcon from './search_icon.png'\nimport BlockchainLogo from './Blockchain-Logo.png'\nimport redArrow from './arrow_right_red.png'\nimport greenArrow from './arrow_right_green.png'\n\nconst styleSheet = theme => ({\n    container: {\n        margin: 0,\n        backgroundColor: '#ffffff'\n    },\n    header: {\n        height: '50px',\n        padding: '20px',\n    },\n    searchBar: {\n        backgroundColor: '#004a7c',\n        display: 'flex',\n        justifyContent: 'center', \n        alignItems: 'center',\n        height: '90px',\n        '& input': {\n            width: '80%',\n            height: '30px',\n            fontSize: '14px',\n        },\n    },\n    searchButton: {\n        height: '50px',\n        background: 'none',\n        border: 'none',\n        '&:focus': {\n            outline: 'none'\n        }\n    },\n    logo: {\n        width: '40%',\n        maxWidth: '300px'\n    },\n    results: {\n        margin: '20px 70px',\n        '& table': {\n            marginBottom: '20px',\n        },\n        '& th': {\n            textAlign: 'left'\n        },\n        '& td:first-child': {\n            width: '150px'\n        }\n    },\n    transactions: {\n        margin: '20px 70px',\n    },\n    transactionData: {\n        fontSize: '12px'\n    },\n    hash: {\n        fontSize: '11px'\n    },\n    mainHash: {\n        fontWeight: 'bold'\n    },\n    individualTransactions: {\n        border: 'solid 2px pink',\n        margin: '10px auto',\n        width: '100%'\n    },\n    individualTransaction: {\n        display: 'inline-block',\n        '& table': {\n            margin: '10px 0px',\n            tableLayout: 'fixed',\n            width: '100%'\n        },\n        '& td': {\n            wordWrap: 'break-word',\n        }\n    },\n    arrow: {\n        width: '50px',\n        textAlign: 'center'\n    },\n})\n\nconst style = injectSheet(styleSheet)\n\nclass SearchPage extends PureComponent {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            address: '1LuckyR1fFHEsXYyx5QK4UFzv3PEAepPMK'\n        }\n    }\n\n    updateAddress = (value) => {\n        this.setState({ address: value })\n    }\n\n    renderIndividualTransactions = (transaction) => {\n        const { classes } = this.props;\n        let addr_tag = transaction.addr_tag ? (<a href={transaction.addr_tag_link}>{`(${transaction.addr_tag})`}</a>) : '';\n        let isOut = transaction.type === 'out' ? true : false;\n        let arrow = isOut ? redArrow : greenArrow;\n        return (<div className={classes.individualTransaction}>\n            <table className={classes.individualTable}>\n                <tr>\n                    <td className={classes.mainHash} colspan='3'>{transaction.hash}</td>\n                    <td>{transaction.tx_index}</td>\n                </tr>\n                <tr>\n                    <td>{isOut ? transaction.hash : transaction.addr} {isOut ? '' : addr_tag}</td>\n                    <td className={classes.arrow}><img src={arrow}/></td>\n                    <td>{isOut ? transaction.addr : transaction.hash} {isOut ? addr_tag : ''}</td>\n                    <td>{(transaction.value * 0.00000001).toFixed(8)}</td>\n                </tr>\n            </table>\n        </div>);   \n    }\n\n    parseTransaction = (hash, data, type) => {\n        const object = {};\n        if(type === 'out') {\n            object['hash'] = hash;\n            object['type'] = 'out';\n            object['addr'] = data.addr\n            object['addr_tag'] = data.addr_tag || null\n            object['addr_tag_link'] = data.addr_tag_link || null\n            object['tx_index'] = data.tx_index\n            object['value'] = data.value\n        } else {\n            object['hash'] = hash;\n            object['type'] = 'input';\n            object['addr'] = data.prev_out.addr\n            object['addr_tag'] = data.prev_out.addr_tag || null\n            object['addr_tag_link'] = data.prev_out.addr_tag_link || null\n            object['tx_index'] = data.prev_out.tx_index\n            object['value'] = data.prev_out.value  \n        }\n        return object;\n    }\n\n    mergeTransactions = (transactions) => {\n        let transactionsArray = [];\n\n        // go through each transaction\n        transactions.map(transaction => {\n           let hash = transaction['hash'];\n           transaction.inputs.length && transaction.inputs.map(input => {\n                transactionsArray.push(this.parseTransaction(hash, input, 'input'))\n            })\n            transaction.out.length && transaction.out.map(out => {\n                transactionsArray.push(this.parseTransaction(hash, out, 'out'))\n            })\n        })\n\n        console.log('transactionsArray', transactionsArray);\n        transactionsArray.sort((a, b) => {\n            return b.tx_index - a.tx_index\n        })\n        return transactionsArray;\n    }\n\n    renderTransactions = (transactions) => {\n        const { classes } = this.props;\n        let mergedTransactions = this.mergeTransactions(transactions);\n\n        return(<div className={classes.individualTransactions}>\n            {mergedTransactions.map(transaction => this.renderIndividualTransactions(transaction))}\n        </div>)\n    }\n\n    render() {\n        const { searchAddress, classes, search } = this.props;\n        const { address } = this.state;\n\n        console.log('final result from reducers', search)\n        //1LuckyR1fFHEsXYyx5QK4UFzv3PEAepPMK\n\n        return(\n            <div className={classes.container}>\n                <div className={classes.header}>\n                    <img className={classes.logo} src={BlockchainLogo} />\n                </div>\n                <div className={classes.searchBar}>\n                    <input type=\"text\" placeholder=\"Lookup bitcoin addresses...\" onChange={({target: {value}})=>this.updateAddress(value)}/>\n                    <button className={classes.searchButton} onClick={() => searchAddress(address)}><img src={SearchIcon} /></button>\n                </div>\n                {search.results && <div className={classes.results}>\n                    <table>\n                        <tr>\n                            <th>Summary</th>\n                            <th></th>\n                        </tr>\n                        <tr>\n                            <td>Address</td>\n                            <td>{search.results.address}</td>\n                        </tr>\n                        <tr>\n                            <td>Hash 160</td>\n                            <td>{search.results.hash160}</td>\n                        </tr>\n                    </table>\n                    <table>\n                        <tr>\n                            <th>Transactions</th>\n                            <th></th>\n                        </tr>\n                        <tr>\n                            <td>No. Transactions</td>\n                            <td>{search.results.n_tx}</td>\n                        </tr>\n                        <tr>\n                            <td>Total Received</td>\n                            <td>{search.results.total_received * 0.00000001} BTC</td>\n                        </tr>\n                        <tr>\n                            <td>Final Balance</td>\n                            <td>{search.results.final_balance * 0.00000001} BTC</td>\n                        </tr>\n                    </table>\n                </div>}\n                {search.results && <div className={classes.transactions}>\n                    <h3>Transactions</h3>\n                    <div className={classes.transactionData}>\n                        {/* {this.mergeTransactions(search.results.txs)} */}\n                        {/* {search.results.txs.map((transaction) => this.renderTransactions(transaction))} */}\n                        {this.renderTransactions(search.results.txs)}\n                    </div>\n                </div>}\n            </div>\n        )\n    }\n}\n\nSearchPage.propTypes = {\n}\n\nSearchPage.defaultProps = {\n}\n\nexport default compose(\n    style,\n    pure\n)(SearchPage)"]},"metadata":{},"sourceType":"module"}